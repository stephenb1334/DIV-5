{
  "title": "Troubleshooting Common Issues in Atlas",
  "description": "A detailed guide to diagnosing and resolving common issues encountered while using Nomic Atlas.",
  "overview": {
    "purpose": "To provide practical solutions for common errors and challenges users may face while working with Nomic Atlas.",
    "use_cases": [
      "Resolving API authentication errors.",
      "Identifying and fixing data upload issues.",
      "Troubleshooting map rendering or visualization problems."
    ]
  },
  "common_issues": [
    {
      "issue": "API Authentication Failure",
      "description": "Occurs when API requests are made without a valid API key or with incorrect credentials.",
      "possible_causes": [
        "API key is missing or incorrect.",
        "API key has expired or been revoked.",
        "Request headers are improperly formatted."
      ],
      "solutions": [
        {
          "solution": "Verify API Key",
          "steps": [
            "Check if the correct API key is being used.",
            "Ensure the key is copied without any leading or trailing spaces."
          ]
        },
        {
          "solution": "Check Request Headers",
          "steps": [
            "Ensure the 'Authorization' header is properly formatted.",
            "Example: `Authorization: Bearer <API_KEY>`"
          ]
        },
        {
          "solution": "Generate a New API Key",
          "steps": [
            "Log in to the Nomic Atlas dashboard.",
            "Navigate to 'Settings > API Keys' and generate a new key."
          ]
        }
      ]
    },
    {
      "issue": "Data Upload Errors",
      "description": "Occurs when datasets fail to upload to Nomic Atlas.",
      "possible_causes": [
        "File format is unsupported.",
        "Dataset exceeds size limits.",
        "Pre-signed URL for cloud storage is invalid or expired."
      ],
      "solutions": [
        {
          "solution": "Check File Format",
          "steps": [
            "Ensure the dataset is in a supported format (e.g., CSV, JSON).",
            "Validate the file structure and data integrity."
          ]
        },
        {
          "solution": "Verify File Size",
          "steps": [
            "Ensure the file size is within the allowable limit (e.g., 500MB for direct uploads).",
            "For larger files, use cloud storage integrations like AWS S3 or Google Drive."
          ]
        },
        {
          "solution": "Validate Pre-Signed URLs",
          "steps": [
            "Ensure the pre-signed URL is correctly generated and not expired.",
            "Test the URL by accessing it in a browser to confirm availability."
          ]
        }
      ]
    },
    {
      "issue": "Map Rendering Issues",
      "description": "Maps fail to render or display incorrectly in the Atlas interface.",
      "possible_causes": [
        "Insufficient embedding data in the dataset.",
        "Incorrect dimensionality reduction settings.",
        "Browser compatibility or cache issues."
      ],
      "solutions": [
        {
          "solution": "Verify Embedding Data",
          "steps": [
            "Ensure all data points have valid embeddings.",
            "Re-generate embeddings if necessary using the `/v1/embeddings/create` API."
          ]
        },
        {
          "solution": "Adjust Dimensionality Reduction Settings",
          "steps": [
            "Use a different method (e.g., UMAP instead of t-SNE).",
            "Verify settings using the `/v1/maps/settings` API."
          ]
        },
        {
          "solution": "Clear Browser Cache",
          "steps": [
            "Clear the cache and cookies in your browser.",
            "Ensure you're using a supported browser (e.g., Chrome, Firefox)."
          ]
        }
      ]
    },
    {
      "issue": "Slow API Response Times",
      "description": "API requests take longer than expected to process.",
      "possible_causes": [
        "Large dataset sizes or complex queries.",
        "Temporary server-side performance issues.",
        "Network connectivity problems."
      ],
      "solutions": [
        {
          "solution": "Optimize Dataset Size",
          "steps": [
            "Reduce the dataset size by filtering unnecessary data.",
            "Split large datasets into smaller chunks for processing."
          ]
        },
        {
          "solution": "Retry the Request",
          "steps": [
            "Wait a few minutes and try again to account for temporary server issues.",
            "Use exponential backoff for automated retries."
          ]
        },
        {
          "solution": "Check Network Connectivity",
          "steps": [
            "Ensure a stable internet connection.",
            "Test API requests from a different network or device."
          ]
        }
      ]
    },
    {
      "issue": "Metadata Filtering Not Working",
      "description": "Filters applied to maps do not return the expected results.",
      "possible_causes": [
        "Metadata fields are missing or improperly formatted.",
        "Filters are incorrectly configured in the API request."
      ],
      "solutions": [
        {
          "solution": "Validate Metadata Fields",
          "steps": [
            "Ensure all data points include the required metadata fields.",
            "Check for consistent formatting across the dataset."
          ]
        },
        {
          "solution": "Review Filter Configuration",
          "steps": [
            "Verify the filter syntax in the API request.",
            "Refer to the API documentation for correct filter parameters."
          ]
        }
      ]
    }
  ],
  "diagnostic_tools": {
    "api_endpoints": [
      {
        "endpoint": "/v1/health",
        "description": "Check the health status of the Nomic Atlas API.",
        "example_request": {
          "curl": "curl -X GET 'https://api-atlas.nomic.ai/v1/health'",
          "python_code": "import requests\n\nurl = 'https://api-atlas.nomic.ai/v1/health'\nresponse = requests.get(url)\nprint(response.json())"
        }
      },
      {
        "endpoint": "/v1/logs",
        "description": "Retrieve logs for debugging API requests.",
        "example_request": {
          "curl": "curl -X GET 'https://api-atlas.nomic.ai/v1/logs' -H 'Authorization: Bearer <API_KEY>'",
          "python_code": "import requests\n\nurl = 'https://api-atlas.nomic.ai/v1/logs'\nheaders = {'Authorization': 'Bearer <API_KEY>'}\nresponse = requests.get(url, headers=headers)\nprint(response.json())"
        }
      }
    ]
  },
  "usage_examples": {
    "python_script": {
      "description": "Diagnose and resolve API authentication issues.",
      "code": "import requests\n\n# Step 1: Verify API Key\napi_key = '<API_KEY>'\nheaders = {'Authorization': f'Bearer {api_key}'}\n\n# Step 2: Test API Health\nhealth_url = 'https://api-atlas.nomic.ai/v1/health'\nresponse = requests.get(health_url, headers=headers)\nif response.status_code == 200:\n    print('API is healthy:', response.json())\nelse:\n    print('API health check failed:', response.status_code, response.text)"
    }
  },
  "notes": [
    "Always refer to the official Nomic Atlas API documentation for the latest updates and troubleshooting tips.",
    "Enable logging and monitoring to proactively identify and address issues.",
    "For persistent issues, contact Nomic Atlas support with detailed logs and error messages."
  ]
}