(()=>{var e={10:e=>{const t=(e,t)=>{const r=new Date;r.setTime(r.getTime()+31536e6);const i=`expires=${r.toUTCString()}`,{hostname:o}=new URL(document.URL),n=o.split(".").slice(-2).join(".");cookie=`${e}=${t||""}; ${i}; domain=.${n}; path=/; SameSite=None; Secure`,document.cookie=cookie},r=e=>{const t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let i=r[e];for(;" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},i=()=>{let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(r=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"==r?i:7&i|8).toString(16)}))},o=(e,t)=>{const r="https://verifi.podscribe.com/tag?"+e;if("shopify-custom"===t){const e=new XMLHttpRequest;e.open("GET",r,!0),e.send(null)}else{var i=document.createElement("img");i.id="podscribe-request",i.style.display="none",i.alt="",i.ariaHidden=!0,i.src=r,document.getElementsByTagName("img"),document.body.appendChild(i)}},n=e=>Object.entries(e).reduce(((e,[t,r])=>{if(Array.isArray(r)){for(const i of r)e.append(t,i);return e}return e.append(t,r),e}),new URLSearchParams).toString(),c=async(e,o)=>{const n=o&&o.source?o.source:"js-tag v1.0.5",c=window.podscribe_advertiser,s=window.podscribe_user_id,a=window.with_stid;let d=!0;try{new URL(document.URL).origin===new URL(document.referrer).origin&&(d=!1)}catch(e){}let u=r(`__podscribe_${c}_referrer`);u||(u=document.referrer&&d?document.referrer:"_",t(`__podscribe_${c}_referrer`,u));let l=r(`__podscribe_${c}_landing_url`);l||"view"!==e||(l=d?document.URL||"_":document.referrer||"_",t(`__podscribe_${c}_landing_url`,l));let p=o&&o.device_id?o.device_id:r("__podscribe_did");p&&"YOUR_DEVICE_ID_MACRO"!==p||(p="pscrb_"+i(),t("__podscribe_did",p));let _="";try{if(!["nakedwines","wise","stan","nutrafol"].includes(c)){const e=new AbortController,t=setTimeout((()=>e.abort()),2e3);try{const t=await fetch("https://ipv4.podscribe.com",{signal:e.signal}),{ip:r}=await t.json();_=r}finally{clearTimeout(t)}}}catch(e){}let f="";try{if(a){const e=await fetch("https://const.uno/id.json?p=59"),{id:t}=await e.json();f=t}}catch(e){}const w=(new Date).getTime();return{user_id:s,advertiser:c,referrer:u,device_id:p,stid:f,ipv4:_,url:l||"_",event_url:document.URL,source:n,cachebust:w}},s=e=>async t=>{try{t.preventDefault();var r=t.currentTarget;const i=t.currentTarget.getAttribute("id").split("podscribe_")[1],o=await c(i,e),s=n({...e,...o,action:i});fetch("https://verifi.podscribe.com/tag?"+s).finally((()=>{r.href&&(window.location.href=r.href)}))}catch(e){r.href&&(window.location.href=r.href)}},a=async(e,t)=>{try{if("init"===e){window.podscribe_user_id=t.user_id,window.podscribe_advertiser=t.advertiser,window.with_stid=t.with_stid;try{document.querySelectorAll('[id^="podscribe_"]').forEach((function(e){e.addEventListener("click",s(t))}))}catch(e){}return}if("view"===e){const r=await c(e,t),i=n({action:e,...r});return void o(i,r.source)}if(e){const r=await c(e,t),i=n({...t,action:e,...r});return void o(i,r.source)}}catch(e){console.log(e)}};window.podscribe=a,e.exports={jsTag:a,setCookie:t,getCookie:r,generateUUID:i,makeRequest:o,serializeParams:n,getParams:c,trackElementClick:s}}},t={};!function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}(10)})();